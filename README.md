# ğŸ° DungeonDelvers Smart Contracts V1

## ğŸ“‹ æ¦‚è¿°

DungeonDelvers æ˜¯ä¸€æ¬¾å®Œå…¨å»ä¸­å¿ƒåŒ–çš„ NFT éŠæˆ²ï¼Œé‹è¡Œåœ¨ BSC ä¸»ç¶²ä¸Šã€‚é€™å€‹æ™ºèƒ½åˆç´„åº«åŒ…å«äº†ç¬¬ä¸€ä»£éŠæˆ²çš„æ ¸å¿ƒé‚è¼¯ï¼ŒåŒ…æ‹¬ Hero NFT é‘„é€ ã€Relic ç³»çµ±ã€æ¢éšªæ©Ÿåˆ¶å’Œçå‹µåˆ†é…ã€‚

### ğŸ¯ V1 ä¸»è¦ç‰¹è‰²
- **ç¬¬ä¸€ä»£éŠæˆ²é«”é©—**: å¥ å®š DungeonDelvers å®‡å®™çš„åŸºç¤æ¶æ§‹
- **å®Œå…¨å»ä¸­å¿ƒåŒ–**: æ‰€æœ‰éŠæˆ²é‚è¼¯éƒ½åœ¨æ™ºèƒ½åˆç´„ä¸­
- **NFT é©…å‹•**: Hero å’Œ Relic ä½œç‚ºéŠæˆ²çš„æ ¸å¿ƒè³‡ç”¢
- **æ¢éšªç³»çµ±**: ç©å®¶å¯ä»¥æ´¾é£ Hero é€²è¡Œåœ°ä¸‹åŸæ¢éšª
- **çå‹µæ©Ÿåˆ¶**: åŸºæ–¼æˆåŠŸç‡çš„å‹•æ…‹çå‹µç³»çµ±
- **VRF éš¨æ©Ÿæ€§**: ä½¿ç”¨ Chainlink VRF ç¢ºä¿å…¬å¹³æ€§

## ğŸ”§ åˆç´„æ¶æ§‹

### æ ¸å¿ƒåˆç´„
- **DungeonCore**: ç³»çµ±çš„ä¸­å¿ƒåˆç´„ï¼Œç®¡ç†æ‰€æœ‰å…¶ä»–åˆç´„çš„äº¤äº’
- **Oracle**: åƒ¹æ ¼é è¨€æ©Ÿï¼Œæä¾› BNB/USD åƒ¹æ ¼æ•¸æ“š
- **DungeonStorage**: åœ°ä¸‹åŸé…ç½®å’Œæ•¸æ“šå­˜å„²

### NFT åˆç´„
- **Hero**: Hero NFT åˆç´„ï¼ŒåŒ…å«å±¬æ€§å’Œç­‰ç´šç³»çµ±
- **Relic**: Relic NFT åˆç´„ï¼Œæä¾›æˆ°åŠ›åŠ æˆ
- **Party**: éšŠä¼ç³»çµ±ï¼Œå…è¨±å¤šå€‹ Hero çµ„éšŠ

### éŠæˆ²é‚è¼¯
- **DungeonMaster**: æ¢éšªé‚è¼¯å’Œçå‹µåˆ†é…
- **AltarOfAscension**: Hero å‡éšç³»çµ±

### æ”¯æ´ç³»çµ±
- **PlayerProfile**: ç©å®¶æª”æ¡ˆå’Œçµ±è¨ˆ
- **PlayerVault**: ç©å®¶è³‡é‡‘ç®¡ç†
- **VIPStaking**: VIP è³ªæŠ¼ç³»çµ±
- **VRFConsumerV2Plus**: Chainlink VRF é›†æˆ

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç’°å¢ƒæº–å‚™
```bash
# å®‰è£ä¾è³´
npm install

# ç¢ºä¿ .env æ–‡ä»¶åŒ…å«å¿…è¦çš„é…ç½®
# PRIVATE_KEY=ä½ çš„éƒ¨ç½²ç§é‘°
# BSCSCAN_API_KEY=ä½ çš„BSCScan APIå¯†é‘°
```

### ç·¨è­¯åˆç´„
```bash
# ç·¨è­¯æ‰€æœ‰åˆç´„
npm run compile

# æ¸…ç†ç·¨è­¯ç·©å­˜
npm run clean
```

### éƒ¨ç½²åˆ° BSC
```bash
# éƒ¨ç½²åˆ° BSC ä¸»ç¶²
npm run deploy

# éƒ¨ç½²åˆ° BSC æ¸¬è©¦ç¶²
npm run deploy:testnet

# å®Œæ•´éƒ¨ç½²æµç¨‹ (éƒ¨ç½² + é©—è­‰ + è¨­ç½® + ABIæå–)
npm run deploy-all
```

### åˆç´„é©—è­‰
```bash
# é©—è­‰ä¸»ç¶²åˆç´„
npm run verify

# é©—è­‰æ¸¬è©¦ç¶²åˆç´„
npm run verify:testnet
```

### åˆç´„è¨­ç½®
```bash
# é…ç½®åˆç´„é€£æ¥å’Œæ¬Šé™
npm run setup

# æ¸¬è©¦ç¶²è¨­ç½®
npm run setup:testnet
```

### ABI æå–
```bash
# æå– ABI åˆ°å‰ç«¯é …ç›®
npm run extract-abi
```

## ğŸ“Š V1 åˆç´„åœ°å€ (BSC ä¸»ç¶²)

### æ ¸å¿ƒåˆç´„
```
DungeonCore: 0x5b64a5939735ff762493d9b9666b3e13118c5722
Oracle: 0xee322eff70320759487f67875113c062ac1f4cfb
DungeonStorage: 0x474ee307d9cd81670a4773e4e9a124853fa51db0
```

### NFT åˆç´„
```
Hero: 0x3052ab6c5b307478d943beba63efcdd97aecb526
Relic: 0x5b967d67c7cbbcba140820757c670c99c61ee530
Party: 0x3cfed1ac185f66830342a9a796cb5bb4ef611fe6
```

### éŠæˆ²é‚è¼¯
```
DungeonMaster: 0x0256aecec4d93ef13e14237ab5c63d2dd3eee2be
AltarOfAscension: 0x3146e1026c134f098caf15c4e3c2b751a357d77c
```

### æ”¯æ´ç³»çµ±
```
PlayerProfile: 0xc869e2dcc64f76149e8392a0735b76bcfe79669a
PlayerVault: 0x6a3fb49538c58cbeb537daf12c276cbc97c6e8ec
VIPStaking: 0xacce5647880211c07d17eeae49364bb7db36aa3c
VRFConsumerV2Plus: 0x934c8cd6c4f39673ca44c9e88a54cbe2f71782b9
```

### ä»£å¹£
```
TSOUL (Soul Shard): 0xb73fe158689eab3396b64794b573d4bec7113412
TUSD1 (Test USD): 0x9dc0b768533222fddbe6a9bd71ead96a7c612c61
```

## âš¡ BSC Gas å„ªåŒ–

ç¬¬ä¸€ä»£æ™ºèƒ½åˆç´„æ¡ç”¨æ¥µè‡´çš„ BSC å„ªåŒ–ç­–ç•¥ï¼š
- **0.11 gwei gas price**: æ¯”æ¨™æº– 3 gwei ç¯€çœ **96%** éƒ¨ç½²æˆæœ¬
- **viaIR ç·¨è­¯**: è§£æ±ºè¤‡é›œåˆç´„çš„ Stack too deep å•é¡Œ
- **ç²¾ç°¡æ¶æ§‹**: 4 å€‹æ ¸å¿ƒéƒ¨ç½²è…³æœ¬ï¼Œè‡ªå‹•åŒ–å®Œæ•´æµç¨‹

## ğŸ”’ V1 å®‰å…¨ç‰¹æ€§

- **æ¨¡å¡ŠåŒ–è¨­è¨ˆ**: å„åˆç´„è·è²¬åˆ†é›¢ï¼Œé™ä½é¢¨éšª
- **æ¬Šé™æ§åˆ¶**: åˆ†å±¤çš„ç®¡ç†å“¡å’Œæ“ä½œå“¡æ¬Šé™
- **VRF éš¨æ©Ÿæ€§**: ä½¿ç”¨ Chainlink VRF ç¢ºä¿éš¨æ©Ÿæ•¸å…¬å¹³æ€§
- **Oracle ä¿è­·**: é˜²æ­¢åƒ¹æ ¼æ“ç¸±æ”»æ“Š
- **ç·Šæ€¥æš«åœ**: é—œéµåŠŸèƒ½çš„å®‰å…¨é–‹é—œ

## ğŸ§ª æ¸¬è©¦

```bash
# é‹è¡Œæ¸¬è©¦å¥—ä»¶
npm test

# ç·¨è­¯æ¸¬è©¦
npm run compile
```

## ğŸ—ï¸ é …ç›®çµæ§‹

```
DungeonDelversContracts/
â”œâ”€â”€ contracts/          # 15 å€‹æ™ºèƒ½åˆç´„
â”‚   â”œâ”€â”€ current/core/   # æ ¸å¿ƒç³»çµ±åˆç´„
â”‚   â”œâ”€â”€ current/nft/    # NFT ç›¸é—œåˆç´„
â”‚   â”œâ”€â”€ current/defi/   # DeFi åŠŸèƒ½åˆç´„
â”‚   â””â”€â”€ current/interfaces/ # åˆç´„æ¥å£
â”œâ”€â”€ scripts/essential/  # 4 å€‹æ ¸å¿ƒéƒ¨ç½²è…³æœ¬
â”œâ”€â”€ abis/              # è‡ªå‹•ç”Ÿæˆçš„ ABI æ–‡ä»¶
â””â”€â”€ .env               # ç’°å¢ƒé…ç½®æ–‡ä»¶
```

## ğŸ® V1 éŠæˆ²æ©Ÿåˆ¶

### Hero ç³»çµ±
- **é‘„é€ æ©Ÿåˆ¶**: ä½¿ç”¨ BNB é‘„é€  Hero NFT
- **å±¬æ€§ç³»çµ±**: æ¯å€‹ Hero æ“æœ‰ç¨ç‰¹çš„æˆ°åŠ›å€¼
- **å‡éšç³»çµ±**: é€šé Altar of Ascension æå‡ Hero ç­‰ç´š

### æ¢éšªç³»çµ±
- **åœ°ä¸‹åŸè¨­è¨ˆ**: 3 å€‹åˆå§‹åœ°ä¸‹åŸï¼Œä¸åŒé›£åº¦å’Œçå‹µ
- **éšŠä¼æ©Ÿåˆ¶**: æœ€å¤š 3 å€‹ Hero çµ„æˆæ¢éšªéšŠ
- **æˆåŠŸç‡è¨ˆç®—**: åŸºæ–¼éšŠä¼ç¸½æˆ°åŠ›å’Œåœ°ä¸‹åŸé›£åº¦

### çå‹µç³»çµ±
- **TSOUL ä»£å¹£**: æ¢éšªæˆåŠŸç²å¾—çš„ä¸»è¦çå‹µ
- **å‹•æ…‹èª¿æ•´**: çå‹µæ ¹æ“šæˆåŠŸç‡å’Œåœ°ä¸‹åŸé›£åº¦èª¿æ•´
- **VIP åŠ æˆ**: VIP è³ªæŠ¼è€…äº«æœ‰é¡å¤–çå‹µ

## ğŸ”— ç›¸é—œé€£çµ

- **å‰ç«¯æ‡‰ç”¨**: SoulboundSaga (React + Viem + Wagmi)
- **å¾Œç«¯ API**: dungeon-delvers-metadata-server
- **å­åœ–ç´¢å¼•**: The Graph Protocol é›†æˆ
- **ç™½çš®æ›¸**: è©³ç´°çš„éŠæˆ²æ©Ÿåˆ¶å’Œç¶“æ¿Ÿæ¨¡å‹

## ğŸ“„ æˆæ¬Š

é€™å€‹é …ç›®ä½¿ç”¨ MIT æˆæ¬Š - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è©³æƒ…ã€‚

---

*ğŸ° DungeonDelvers V1 - å»ä¸­å¿ƒåŒ–å†’éšªéŠæˆ²çš„é–‹ç«¯*