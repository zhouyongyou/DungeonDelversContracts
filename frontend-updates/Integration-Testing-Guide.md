# 前端整合測試指南

## VIPStaking 測試重點

### 1. SBT 功能測試
- [ ] 嘗試批准 VIP NFT → 應該失敗並顯示友好錯誤
- [ ] 嘗試轉移 VIP NFT → 應該失敗並顯示友好錯誤
- [ ] UI 中不應顯示任何轉移或批准按鈕

### 2. 永久 VIP 卡測試
- [ ] 質押 SOUL 獲得 VIP 卡
- [ ] 完全解除質押
- [ ] 確認 VIP 卡仍然顯示（等級為 0）
- [ ] 重新質押，確認使用相同的 VIP 卡 tokenId

### 3. 暫停功能測試
- [ ] 管理員暫停系統
- [ ] 確認所有質押/解質押操作被阻止
- [ ] 確認查詢功能仍然正常
- [ ] 恢復系統，確認功能恢復

### 4. 錯誤訊息測試
- [ ] 測試所有新的錯誤情況
- [ ] 確認錯誤訊息清晰友好
- [ ] 確認沒有顯示技術性錯誤給用戶

## PlayerProfile 測試重點

### 1. SBT 永久性測試
- [ ] 創建玩家檔案
- [ ] 確認無法轉移或批准
- [ ] 確認檔案永久綁定

### 2. 暫停狀態測試
- [ ] 系統暫停時無法創建新檔案
- [ ] 系統暫停時無法添加經驗
- [ ] 查詢功能正常運作

## 子圖測試重點

### 1. VIP 數據一致性
- [ ] 解除質押後 tokenId 仍然保留
- [ ] hasVIPCard 標記正確
- [ ] 歷史記錄完整

### 2. 查詢測試
```graphql
# 測試查詢：獲取用戶 VIP 狀態
{
  user(id: "0x...") {
    hasVIPCard
    currentVIPLevel
    vipStake {
      amount
      tokenId
      vipLevel
    }
  }
}
```

## 部署檢查清單

### 合約部署後
1. [ ] 確認合約地址更新
2. [ ] 更新前端 ABI
3. [ ] 更新子圖 ABI 和地址

### 前端部署前
1. [ ] 移除所有轉移相關 UI
2. [ ] 添加 SBT 說明文字
3. [ ] 測試暫停功能
4. [ ] 確認錯誤處理完整

### 子圖部署前
1. [ ] 更新 schema.graphql
2. [ ] 更新 mapping
3. [ ] 重新部署子圖

## 用戶溝通

### 公告內容建議
```
🎉 VIP 系統升級完成！

主要變更：
1. VIP 卡現在是靈魂綁定代幣(SBT)，無法轉移
2. 解除質押後，VIP 卡會保留（可隨時重新激活）
3. 新增系統維護功能，確保服務穩定性

這些改變旨在提供更好的用戶體驗和系統安全性。
```